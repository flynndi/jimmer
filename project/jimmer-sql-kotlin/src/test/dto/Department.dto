export org.babyfish.jimmer.sql.kt.model.hr.Department
    -> package org.babyfish.jimmer.sql.kt.model.hr.dto

import testpkg.annotations.{ConsiderAs, Type, Serializable}
import org.babyfish.jimmer.sql.kt.model.hr.{
    MagicStringSerializer, MagicStringSerializer3, MagicStringDeserializer, MagicStringDeserializer3
}
import com.alibaba.excel.annotation.ExcelProperty

DepartmentView {
    id
    @Serializable(with = String::class)
    employeeIds
}

DepartmentIdFunView {
    id
    id(employees) as employeeIds
}

DepartmentCompositeView {
    id
    employees {
        id
        @ConsiderAs(types = [
            Type(String::class),
            Type(Int::class),
            Type(Int?::class)
        ])
        employeeName as name
    }
}

specification DepartmentSpecification {
    id
    associatedIdIn(employees) as employeeIds
}

specification DepartmentSpecification2 {
    id
    flat(employees) {
        valueIn(id) as employeeIds
        like/i(employeeName)
    }
}

DepartmentView2 {
    #allScalars

    @tools.jackson.databind.annotation.JsonSerialize(using = MagicStringSerializer3::class)
    @tools.jackson.databind.annotation.JsonDeserialize(using = MagicStringDeserializer3::class)
    @com.fasterxml.jackson.databind.annotation.JsonSerialize(using = MagicStringSerializer::class)
    @com.fasterxml.jackson.databind.annotation.JsonDeserialize(using = MagicStringDeserializer::class)
    @ExcelProperty(value = ["tag1", "tag2"])
    name
}